## Undirected graph

### 1. DFS + visited + parent(prev)

在建图之后操作，由于可能会存在多个不连通的独立的图，所以要对所有的节点进行dfs。

parent是指当前node的来源地，当遍历这个node的邻居时，考虑两种情况：

1. 不在visited中，说明是新的节点，继续dfs；
2. 在visited中，由于是无向图，有可能这个邻居实际上就是这个节点的来源parent（最近的那个把该节点延申出来的节点），此时不能说明有环；
所以判断一下这个邻居是不是parent，不是就说明有环了。

```python
def has_cycle_undirected_dfs(graph):
    visited = set()
    
    def dfs(node, parent):
        visited.add(node)
        for neighbor in graph[node]:
            if neighbor not in visited:
                if dfs(neighbor, node):
                    return True
            elif neighbor != parent:
                return True
        return False
    
    for node in graph:
        if node not in visited:
            if dfs(node, -1):
                return True
    
    return False
```

### 2. Disjoint Set Union

与dfs不同，并查集则是在建图的过程中进行判断，在union的过程中如果发现两个节点有共同的根，说明已经有环了。

```python
def find(x, parent):
    if x != parent[x]:
        parent[x] = find(parent[x], parent)
    return parent[x]

def union(x, y, parent):
    root_x, root_y = find(x, parent), find(y, parent)
    if root_x == root_y:
        return True
    parent[root_x] = root_y
    return False

def has_cycle_undirected_dsu(n, edges):
    parent = [i for i in range(n + 1)]
    for u, v in edges:
        if union(u, v, parent):
            return True
    return False
```

## Directed graph

### 1. DFS + visited + stack

与无向图不同的地方在于，无向图成环只能是当前节点与除了邻居节点之外的节点形成边（当然是dfs下来的节点）；而有向图
为了考虑dfs下来的节点，使用一个stack在记录当前的遍历到的节点，结束后再删除，防止误判。

```python
def has_cycle_directed_dfs(graph):
    visited = set()
    stack = set()
    
    def dfs(node):
        visited.add(node)
        stack.add(node)
        for neighbor in graph[node]:
            if neighbor not in visited:
                if dfs(neighbor):
                    return True
            elif neighbor in stack:
                return True
        stack.remove(node)
        return False

    for node in graph:
        if node not in visited:
            if dfs(node):
                return True
    
    return False
```

### 2. Topological Sort


$$ 按照学科领域的分面 $$


| 大类      | 二级分类         | 三级分类            |
|---------|--------------|-----------------|
| 1 社会科学  | 1.1 经济       | 1.1.1 微观经济学     |
|         |              | 1.1.2 宏观经济学     |
|         |              | 1.1.3 计量经济学     |
|         |              | 1.1.4 发展经济学     |
|         |              | 1.1.5 行为经济学     |
|         |              | 1.1.6 国际经济学     |
|         |              | 1.1.7 金融学       |
|         |              | 1.1.8 产业经济学     |
|         | 1.2 心理学      | 1.2.1 认知心理学     |
|         |              | 1.2.2 临床心理学     |
|         |              | 1.2.3 教育心理学     |
|         |              | 1.2.4 工业与组织心理学  |
|         |              | 1.2.5 社会心理学     |
|         |              | 1.2.6 发展心理学     |
|         |              | 1.2.7 实验心理学     |
|         | 1.3 政治学      | 1.3.1 国际关系      |
|         |              | 1.3.2 比较政治学     |
|         |              | 1.3.3 政治理论      |
|         |              | 1.3.4 公共政策      |
|         |              | 1.3.5 政治经济学     |
|         | 1.4 社会学      | 1.4.1 社会理论      |
|         |              | 1.4.2 社会分层      |
|         |              | 1.4.3 文化社会学     |
|         |              | 1.4.4 城市社会学     |
|         | 1.5 法学       | 1.5.1 宪法学       |
|         |              | 1.5.2 民法学       |
|         |              | 1.5.3 刑法学       |
|         |              | 1.5.4 国际法学      |
|         | 1.6 教育学      | 1.6.1 教育哲学      |
|         |              | 1.6.2 教育心理学     |
|         |              | 1.6.3 课程与教学论    |
|         |              | 1.6.4 教育技术学     |
|         | 1.7 新闻传播学    | 1.7.1 新闻学       |
|         |              | 1.7.2 传播学       |
|         |              | 1.7.3 广告学       |
|         |              | 1.7.4 新媒体研究     |
|         | 1.8 人口学      | 1.8.1 人口统计学     |
| 2 自然科学  | 2.1 数学       | 2.1.1 基础数学      |
|         |              | 2.1.2 应用数学      |
|         |              | 2.1.3 概率论与数理统计  |
|         |              | 2.1.4 运筹学       |
|         | 2.2 物理学      | 2.2.1 理论物理      |
|         |              | 2.2.2 凝聚态物理     |
|         |              | 2.2.3 光学        |
|         |              | 2.2.4 粒子物理      |
|         | 2.3 化学       | 2.3.1 无机化学      |
|         |              | 2.3.2 有机化学      |
|         |              | 2.3.3 物理化学      |
|         |              | 2.3.4 分析化学      |
|         | 2.4 生物学      | 2.4.1 分子生物学     |
|         |              | 2.4.2 细胞生物学     |
|         |              | 2.4.3 遗传学       |
|         |              | 2.4.4 生态学       |
|         | 2.5 地球科学     | 2.5.1 地质学       |
|         |              | 2.5.2 大气科学      |
|         |              | 2.5.3 海洋科学      |
|         |              | 2.5.4 空间科学      |
|         | 2.6 环境科学     | 2.6.1 环境生态学     |
|         |              | 2.6.2 环境工程      |
| 3 工程技术  | 3.1 电子信息工程   | 3.1.1 通信工程      |
|         |              | 3.1.2 集成电路设计    |
|         |              | 3.1.3 信号与信息处理   |
|         | 3.2 计算机科学与技术 | 3.2.1 软件工程      |
|         |              | 3.2.2 人工智能      |
|         |              | 3.2.3 数据科学与大数据  |
|         |              | 3.2.4 网络安全      |
|         | 3.3 自动化      | 3.3.1 控制理论与控制工程 |
|         |              | 3.3.2 工业自动化     |
|         | 3.4 土木工程     | 3.4.1 建筑结构工程    |
|         |              | 3.4.2 桥梁与隧道工程   |
|         |              | 3.4.3 岩土工程      |
|         | 3.5 机械工程     | 3.5.1 机械设计制造    |
|         |              | 3.5.2 流体机械      |
|         |              | 3.5.3 精密仪器工程    |
| 4 医药医学  | 4.1 临床医学     | 4.1.1 内科学       |
|         |              | 4.1.2 外科学       |
|         |              | 4.1.3 妇产科学      |
|         | 4.2 公共卫生     | 4.2.1 流行病学      |
|         |              | 4.2.2 卫生统计学     |
|         | 4.3 医学技术     | 4.3.1 医学检验      |
|         |              | 4.3.2 医学影像      |
|         | 4.4 中医学      | 4.4.1 中医基础理论    |
|         |              | 4.4.2 中药学       |
|         |              | 4.4.3 针灸推拿      |
|         | 4.5 医学技术与工程  |                 |
|         | 4.6 医学教育与交流  |                 |
| 5 体育运动  | 5.1 体育理论     | 5.1.1 体育教育学     |
|         |              | 5.1.2 运动心理学     |
|         | 5.2 运动训练     | 5.2.1 技术训练      |
|         |              | 5.2.2 体能训练      |
|         | 5.3 体育管理     | 5.3.1 体育政策      |
|         |              | 5.3.2 体育产业      |
| 6  艺术审美 | 6.1 音乐       | 6.1.1 音乐理论      |
|         |              | 6.1.2 作曲与作曲技术理论 |
|         |              | 6.1.3 演奏艺术      |
|         | 6.2 美术       | 6.2.1 绘画        |
|         |              | 6.2.2 雕塑        |
|         |              | 6.2.3 视觉传达设计    |
|         | 6.3 戏剧与影视    | 6.3.1 戏剧学       |
|         |              | 6.3.2 电影学       |
|         |              | 6.3.3 广播电视艺术学   |
|         | 6.4 舞蹈       | 6.4.1 舞蹈编导      |
|         |              | 6.4.2 舞蹈表演      |
|         | 6.5 书法       | 6.5.1 书法创作      |
|         |              | 6.5.2 书法理论      |
|         | 6.6 摄影       | 6.6.1 摄影艺术      |
|         |              | 6.6.2 数字影像技术    |
| 7  人文科学 | 7.1 文学       | 7.1.1 古典文学      |
|         |              | 7.1.2 现代文学      |
|         |              | 7.1.3 比较文学      |
|         | 7.2 历史       | 7.2.1 古代历史      |
|         |              | 7.2.2 近现代历史     |
|         |              | 7.2.3 世界历史      |
|         | 7.3 语言学      | 7.3.1 语音学       |
|         |              | 7.3.2 语法学       |
|         |              | 7.3.3 语言类型学     |
|         | 7.4 哲学       | 7.4.1 古代哲学      |
|         |              | 7.4.2 近现代哲学     |
|         |              | 7.4.3 伦理学       |
|         | 7.5 宗教       | 7.5.1 宗教历史      |
|         |              | 7.5.2 宗教学       |
|         |              | 7.5.3 宗教哲学      |
|         | 7.6 考古学      | 7.6.1 古代文明      |
|         |              | 7.6.2 考古技术      |
|         |              | 7.6.3 人类学与考古学   |
|         | 7.7 古典学      | 7.7.1 古希腊研究     |
|         |              | 7.7.2 古罗马研究     |
|         |              | 7.7.3 古代文献学     |


$$ 按照时间的分面 $$

| 时间 |
|:--:|
| 年  |
| 月  |
| 日  |

$$ 按照语言的分面 $$


| 语言 |  扩展  |
|:--:|:----:|
| 中文 |      |
| 英文 |      |
| 其他 | 西班牙语 |
|    |  德语  |
|    |  俄语  |
|    | 葡萄牙语 |
|    | 意大利语 |
|    | 荷兰语  |
|    | 阿拉伯语 |
|    |  韩语  |

$$ 按照形式的分面 $$


| 形式 |
|:--:|
| 线下 |
| 线上 |
